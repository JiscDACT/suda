os: windows
language: shell
before_install:
  - choco install python --version=3.7
  - python -m pip install --upgrade pip
env: PATH=/c/Python37:/c/Python37/Scripts:$PATH
install:
  - pip install -r requirements.txt
  - pip install pyinstaller
script:
  - bash -c echo "Tests would go here"
before_deploy:
  - pyinstaller -F suda.py
deploy:
  - provider: releases
    api_key:
      secure: "GdEVgC6AlWo04rZ53ZISCFPiQlhG+v6vE/3VhO27bt+M2aNwcRD65jTE459gUA/jccBz5rL9kpYjvyjarWdd560VAGQCbXyrZRteIZ5dDhPtcoEuFV2vTpq1bf70ijcH7U5qyq2WKeBhIwxZa1h6zZyHQKDXxIXCVUGTzvzeWdxFI15gABxDiHAyqnwH2ZciYtgLDwen0IWh41c48It4XNjZBgHhaCr+07RosEpmnXIdPESCLDl0IqJM3k49OFFLc0VIvOrcEAt4BBTT4Ir6njSpG5L4M8O6GSoqEqDm3P3IaZQk/xNrKJVJMSuVkgQw1Gus+FhGZeWri2O5Ib0nZF8bQbUFUUygBcwXLi8Li8Q6l7/WYs/fHffwiiBLDwANycytgoeiybS7thQ1usoVFdkxSyZPTQzuAqV5+Eke5Z0UqRhltHeDNuQUO7u35Ah5SOnIyznU8wtdCa6FFUWQD56+LJC2IbX4nYXbuCqDIRKLpbectA1yEO3dgNAFypbZnXFdz95ODl00F1TRuEpSjpzOj4Z0fRBCQHKB262PeUm6XE2QmXshWCsLfOf2OwOnKm5+c0yXyoLuRkXnyzgKl4Y4482PMpFNpw/cgwvn8jyGFDny2rDOzd/9vAcqyJbM1wUytUTne5i48Cyp2felW9QzueF/acY06ZpsNp03hNQ="
    file_glob: true
    file: dist/suda.exe
    skip_cleanup: true
    draft: true
    on:
      all_branches: true
      tags: true
  - provider: pypi
    user: $TEST_PYPI_USER
    password: $TEST_PYPI_PASS
    distributions: "sdist bdist_wheel"
    skip_existing: true
    on:
      all_branches: true
      tags: true